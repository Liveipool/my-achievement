include ./admin-widget.jade

mixin all-users
  md-content.p-12
    md-card.m-12
      md-content(flex, layout="column", style="max-height: 460px;")
        +table-section("管理员", "admin", "adColumns", ["username", "fullname", "email"])
        +table-section("教师", "teachers", "teaColumns", ["username", "fullname", "email"])
        +table-section("教师助理", "TAs", "taColumns", ["username", "fullname", "email"])
        +table-section("学生", "students", "stuColumns", ["sid", "fullname", "username", "class", "group"])

mixin all-teachers
  md-content.p-12
    md-card.m-12
      md-content(flex, layout="column", style="max-height: 460px;")
        +table-section("教师", "teachers", "teaColumns", ["username", "fullname", "email"])

mixin all-TAs
  md-content.p-12
    md-card.m-12
      md-content(flex, layout="column", style="max-height: 460px;")
        +table-section("教师助理", "TAs", "taColumns", ["username", "fullname", "email"])

mixin all-students
  md-content.p-12
    md-card.m-12
      md-content(flex, layout="column", style="max-height: 460px;")
        div(ng-repeat="class in classes")
          +table-section("{{class.className}}", "class.students", "stuColumnsByClass", ["sid", "fullname", "username", "group"])

div#admin-head(layout="column", ng-cloak)
  header.header.md-accent-bg(layout="column", layout-align="end")
    span.md-display-1.font-weight-300
      | 用户浏览与编辑

div#admin-body(layout="column", ng-cloak, style="height: 100%")
  md-content(md-theme="default", flex="70")
    md-tabs(md-dynamic-height)
      md-tabs-wrapper
        md-tab(label="所有用户")
          +all-users
        md-tab(label="所有教师")
          +all-teachers
        md-tab(label="所有助教")
          +all-TAs
        md-tab(label="所有学生")
          +all-students